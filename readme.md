# –£–º–Ω–∞—è —Ç–µ–ø–ª–∏—Ü–∞ –Ω–∞ ESP32

–ü—Ä–æ–µ–∫—Ç —É–º–Ω–æ–π —Ç–µ–ø–ª–∏—Ü—ã –Ω–∞ –±–∞–∑–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ **ESP32** —Å –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ—Å–≤–µ—â–µ–Ω–∏–µ–º, –ø–æ–ª–∏–≤–æ–º, –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–µ–π, –ø–æ–¥–∞—á–µ–π CO‚ÇÇ –∏ —É–¥–æ–±—Ä–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –Ω–∞ SD‚Äë–∫–∞—Ä—Ç—É.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ](#–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ)
2. [–ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ](#–∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ-–æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ)
3. [–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](#—Å—Ö–µ–º–∞-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
4. [–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ](#–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ-–æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ)
5. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
6. [–í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–æ—Ä–æ–≥–æ–≤-–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
8. [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö)
9. [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–∏-–¥–æ—Ä–∞–±–æ—Ç–∫–∞)
10. [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞ –∏ –ø–æ—á–≤—ã, —É—Ä–æ–≤–µ–Ω—å CO‚ÇÇ, –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å)
* –£–ø—Ä–∞–≤–ª—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (–æ—Å–≤–µ—â–µ–Ω–∏–µ–º, –Ω–∞—Å–æ—Å–æ–º, –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–µ–π, –ø–æ–¥–∞—á–µ–π CO‚ÇÇ) –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –∏ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–∞—Ö
* –ó–∞–¥–∞–≤–∞—Ç—å –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
* –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ CSV‚Äë—Ñ–∞–π–ª –Ω–∞ SD‚Äë–∫–∞—Ä—Ç—É
* –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üîß –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

* **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**: ESP32 DevKit
* **–î–∞—Ç—á–∏–∫–∏**:

  * DHT11 (–≤–æ–∑–¥—É—Ö: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å)
  * Sensirion SCD30/40 (CO‚ÇÇ, T, RH)
  * –§–æ—Ç–æ—Ä–µ–∑–∏—Å—Ç–æ—Ä LDR (–æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å)
  * –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π –¥–∞—Ç—á–∏–∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –ø–æ—á–≤—ã
  * –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π –¥–∞—Ç—á–∏–∫ —É—Ä–æ–≤–Ω—è –≤–æ–¥—ã
  * RS485 7‚Äë–≤‚Äë1 (EC, pH, NPK –∏ –¥—Ä.)
  * DS1302 RTC (—á–∞—Å—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
* **–†–µ–ª–µ**: 4 –∫–∞–Ω–∞–ª–∞ (–æ—Å–≤–µ—â–µ–Ω–∏–µ, –Ω–∞—Å–æ—Å, –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã, CO‚ÇÇ)
* **–î–∏—Å–ø–ª–µ–π**: OLED 0.66" I2C
* **–ù–æ—Å–∏—Ç–µ–ª—å**: microSD‚Äë–∫–∞—Ä—Ç–∞

## üîå –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           | –ü–∏–Ω ESP32                          | –û–ø–∏—Å–∞–Ω–∏–µ        |
| ------------------- | ---------------------------------- | --------------- |
| DHT11               | GPIO 25                            | T/H –≤–æ–∑–¥—É—Ö–∞     |
| SCD30 I2C           | SDA: 21, SCL: 22                   | CO‚ÇÇ, T, RH      |
| –§–æ—Ç–æ—Ä–µ–∑–∏—Å—Ç–æ—Ä        | GPIO 36 (ADC)                      | –û—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å    |
| –ü–æ—á–≤–µ–Ω–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å | GPIO 39 (ADC)                      | –í–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã |
| –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã        | GPIO 34 (ADC)                      | –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã    |
| –†–µ–ª–µ —Å–≤–µ—Ç           | GPIO 26                            | –†–µ–ª–µ 1          |
| –†–µ–ª–µ –Ω–∞—Å–æ—Å          | GPIO 27                            | –†–µ–ª–µ 2          |
| –†–µ–ª–µ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä     | GPIO 14                            | –†–µ–ª–µ 3          |
| –†–µ–ª–µ CO‚ÇÇ            | GPIO 13                            | –†–µ–ª–µ 4          |
| RTC DS1302          | RST: 21, DAT: 19, CLK: 18          | –ß–∞—Å—ã            |
| RS485 (Modbus)      | TX: 17, RX: 16, DE/RE: 4           | 7‚Äë–≤‚Äë1 –¥–∞—Ç—á–∏–∫    |
| OLED 0.66"          | SDA: 21, SCL: 22                   | –î–∏—Å–ø–ª–µ–π         |
| SD‚Äë–∫–∞—Ä—Ç–∞ (SPI)      | CS: 5, MOSI: 23, MISO: 19, SCK: 18 | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ     |

## üíª –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

1. **PlatformIO** (VSCode)
2. –§—Ä–µ–π–º–≤–æ—Ä–∫: **Arduino**
3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (lib\_deps –≤ `platformio.ini`):

   * Adafruit SCD30 / Unified Sensor
   * DS1302RTC (GitHub –∏—Å—Ç–æ—á–Ω–∏–∫)
   * Adafruit SSD1306
   * ArduinoJson
   * ESP Async WebServer + AsyncTCP
   * DHT sensor library
   * SdFat
   * ModbusMaster

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   ```

git clone [https://github.com/](https://github.com/)<–≤–∞—à‚Äë–ø—Å–µ–≤–¥–æ–Ω–∏–º>/smart-greenhouse-esp32.git
cd smart-greenhouse-esp32

```
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ VSCode + PlatformIO
3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ª–∏–≤–∫–∞ –Ω–∞ ESP32:
- –ù–∞–∂–º–∏—Ç–µ **Upload** –∏–ª–∏ `pio run --target upload`
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ WiFi –¢–µ–ø–ª–∏—Ü—ã:
- SSID: `Greenhouse_AP`, –ø–∞—Ä–æ–ª—å: `12345678`
5. –í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ:
```

[http://192.168.4.1/](http://192.168.4.1/)

````

## üåê –í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **–ì–ª–∞–≤–Ω–∞—è**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞**: –∞–≤—Ç–æ/—Ä—É—á–Ω–æ–π
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤**: –≤–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ª–µ**: –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- **–ê–ª–∞—Ä–º—ã**: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞ –ø–æ—Ä–æ–≥–∏

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

- –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏–ª–∏ –≤ –∫–æ–¥–µ –∫–ª–∞—Å—Å–∞ `GreenhouseManager`
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤–∑–∞–∏–º–æ—Å–≤—è–∑—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤) –∑–∞–¥–∞—é—Ç—Å—è –≤ –º–µ—Ç–æ–¥–µ `initDependencies()`:
  ```cpp
deps.push_back({RELAY_PUMP, HIGH, RELAY_LIGHT, HIGH});
````

‚Äî –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞—Å–æ—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∏—Ç—Å—è —Å–≤–µ—Ç

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

* –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `log.csv` –Ω–∞ SD‚Äë–∫–∞—Ä—Ç—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
* –§–æ—Ä–º–∞—Ç CSV:

  ```csv
  ```

Time,Temp,Hum,CO2,Light,Soil,Water,pH,EC,N,P,K
...

```
- –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ Excel –∏–ª–∏ –¥—Ä—É–≥–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ

## üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞

- –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã `/toggle`, `/set`, `/relay` –≤ `GreenhouseManager::setupWebServer()`
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (email, SMS, MQTT)
- –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ (Chart.js)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ EEPROM –∏–ª–∏ SPIFFS

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© –í–∞—à–µ –∏–º—è –∏–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

```
